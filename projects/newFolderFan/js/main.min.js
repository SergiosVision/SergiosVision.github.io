function addSpace(t){t+="",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var e=/(\d+)(\d{3})/;e.test(x1);)x1=x1.replace(e,"$1 $2");return x1+x2}function fadeInV(t,e){t.style.opacity=0,t.style.display=e||"block",function e(){var n=parseFloat(t.style.opacity);(n+=.1)>1||(t.style.opacity=n,requestAnimationFrame(e))}()}function fadeOutV(t){t.style.opacity=1,function e(){(t.style.opacity-=.1)<0?t.style.display="none":requestAnimationFrame(e)}()}function postXhr(t,e,n,o){var i="string"==typeof e?e:Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("&"),a=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return a.open("POST",t),a.onreadystatechange=function(){a.readyState>3&&200==a.status&&o(JSON.parse(a.responseText))},a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.setRequestHeader("X-CSRF-TOKEN",n),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(i),a}function getXhr(t,e,n){var o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return o.open("GET",t),o.onreadystatechange=function(){o.readyState>3&&200==o.status&&e(this.responseText)},o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send(),o}function holdFunc(t,e,n){callHook(t,function(o){!function(o){setTimeout(function(){"remove"===n?t[o].classList.remove(e):t[o].classList.add(e)},o)}(o)})}function getSelector(t){return document.querySelector(t)}function getAll(t){return document.querySelectorAll(t)}function callHook(t,e){for(var n=0;n<t.length;n++)e(n)}function isM(t,e){return t.matches(e)}Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},o=Math.pow(2,53)-1,i=function(t){var e=n(t);return Math.min(Math.max(e,0),o)};return function(t){var n=this,o=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!e(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var l,c=i(o.length),s=e(n)?Object(new n(c)):new Array(c),d=0;d<c;)l=o[d],s[d]=r?void 0===a?r(l,d):r.call(a,l,d):l,d+=1;return s.length=c,s}}()),function(){new Dragdealer("t-jumbotronBottomContentSection")}(),$(document).ready(function(){function t(t,e,n,o,i){var a=getSelector(t),n=(getSelector(e),getSelector(n)),r=a.offsetTop,l=a.getBoundingClientRect().height,c=r+l,s=window.pageYOffset||document.documentElement.scrollTop,d=(document.body.scrollHeight,window.innerHeight);n.style.opacity=c<=s+d?"1":"0"}function e(t){return window.getComputedStyle(getSelector(t),null)}function n(t,e){(window.pageYOffset||document.documentElement.scrollTop)>300?getSelector(t).classList.add(e):getSelector(t).classList.remove(e)}function o(t,e){var n=window.pageYOffset||document.documentElement.scrollTop;t.style.top=-n*e+"px"}function i(t){var e=window.pageYOffset||document.documentElement.scrollTop;getSelector(t).getBoundingClientRect().height>=e&&(getSelector(t).style.opacity=1-e/(getSelector(t).getBoundingClientRect().height/2))}function a(t){var e=t.getBoundingClientRect(),n=document.body,o=document.documentElement,i=window.pageYOffset||o.scrollTop||n.scrollTop,a=window.pageXOffset||o.scrollLeft||n.scrollLeft,r=o.clientTop||n.clientTop||0,l=o.clientLeft||n.clientLeft||0;return{top:e.top+i-r,left:e.left+a-l}}function r(t){var e=document.getElementById(t),n=a(e),o=window.pageYOffset||document.documentElement.scrollTop,i=n.top-100,r=i>o?i-o:o-i;if(r<100)return void scrollTo(0,i);var l=Math.round(r/100);l>=20&&(l=20);var c=Math.round(r/25),s=i>o?o+c:o-c,d=0;if(i>o)for(var u=o;u<i;u+=c)setTimeout("window.scrollTo(0, "+s+")",d*l),s+=c,s>i&&(s=i),d++;else for(var u=o;u>i;u-=c)setTimeout("window.scrollTo(0, "+s+")",d*l),s-=c,s<i&&(s=i),d++}function l(t,e){var n=e.parentNode,o=e.nextSibling;return o?n.insertBefore(t,o):n.appendChild(t)}function c(t,e){callHook(t,function(n){var o=document.createElement(e),i=t[n].getAttribute("class");o.classList.add(i+"Wrapper"),t[n].parentNode.insertBefore(o,t[n]),o.appendChild(t[n])})}function s(t,e){var n=document.createElement(t);return void 0===e?n:(n.classList.addMany(e),n)}function d(t,e,n,o,i){callHook(t,function(n){0==+t[n].value&&e++}),"all"===n?e===t.length?o():i():e===t.length-1?o():i()}function u(t,e,n){var o=t,i=o.parentNode.parentNode.querySelector("input"),a=n.getElementsByTagName("input"),r=o.parentNode.parentNode.parentNode.parentNode.querySelector("div");o.classList.contains(e)?i.value=parseInt(i.value)+1:i.value>0&&(i.value=parseInt(i.value)-1,d(a,0,"all",function(){callHook(a,function(t){0==+a[t].value&&(i.value=1)})},function(){})),0==+i.value?(r.setAttribute("data-check","false"),r.querySelector("div").style.opacity="0.5"):(r.setAttribute("data-check","true"),r.querySelector("div").style.opacity="1")}function p(t,e,n){var o=t,i="qty"===n?o.parentNode.parentNode.querySelector("input"):o,a="qty"===n?o.parentNode.parentNode.parentNode.parentNode.querySelector(e):o.parentNode.parentNode.parentNode.querySelector(e);0===parseInt(i.value)||""===i.value?a.setAttribute("data-check","false"):a.setAttribute("data-check","true")}function f(t,e,n){var o=t,i=new RegExp("^\\d*\\.?\\d+$"),a=n.getElementsByTagName("input");d(a,0,"all",function(){return callHook(a,function(t){0==+a[t].value&&(o.value=1)}),!1},function(){o.value.match(i)?""===o.value||parseInt(o.value)===parseInt(0)?(o.parentNode.parentNode.parentNode.querySelector(e).style.opacity=".5",o.value=0,o.parentNode.parentNode.parentNode.querySelector("div").setAttribute("data-check","false")):(o.parentNode.parentNode.parentNode.querySelector(e).style.opacity="1",o.parentNode.parentNode.parentNode.querySelector("div").setAttribute("data-check","true")):(o.parentNode.parentNode.parentNode.querySelector(e).style.opacity="1",o.value=1,o.parentNode.parentNode.parentNode.querySelector("div").setAttribute("data-check","true"))})}function v(t,e,n,o){function i(t,e,n){callHook(t,function(n){t[n].classList.remove(e)}),n.classList.contains(e)||n.classList.add(e)}var a=t,r="color"===n?a.dataset.color:a.dataset.img,l=getAll(e);getXhr(""+r,function(t){s("div").innerHTML=t,"color"!==n&&callHook(l,function(e){i(o,"active",a),l[e].innerHTML="",""===l[e].innerHTML&&l[e].insertAdjacentHTML("beforeend",t)})}),callHook(l,function(t){"color"===n&&(i(o,"active",a),l[t].style.backgroundColor!==r&&l[t].setAttribute("fill",r))})}function m(t,e,n,o){function i(t,e,n){t.value.length>0?e():n()}var a=t,r=getAll(e);a.value.length<=20?callHook(r,function(t){0===t?i(a,function(){getSelector(n).innerHTML=a.value},function(){g(a,r[t])}):r[t].innerHTML=a.value}):a.value=a.value.substr(0,20)}function g(t,e){t.value.length<=0&&(e.innerHTML="")}function y(t,e){var n=t,o=getAll(e);callHook(o,function(t){o[t].setAttribute("data-font",n.dataset.value)})}function h(t,e,n){function o(t,e){t.classList.remove(e),t.style.display="none"}function i(t,e){t.classList.add(e),t.style.display="block"}function a(t,e){t.classList.contains(e)?(o(t,e),i(t.nextElementSibling,e),c.style.display="none",l(u,c)):(o(t.nextElementSibling,e),i(t,e),c.previousElementSibling.style.display="block")}function r(t,e){t.classList.contains(e)?(o(t,e),c.style.display="none"):(o(t.nextElementSibling,e),c.nextElementSibling.nextElementSibling.parentNode.removeChild(c.nextElementSibling.nextElementSibling),i(t,e),c.nextElementSibling.style.display="block")}var c=t,d=e.children[0],u=s("button","t-addCartBtn t-btn");u.setAttribute("disabled","true"),u.appendChild(s("span")),u.querySelector("span").innerText="Добавить в корзину","forward"===n?a(d,"active"):r(d,"active")}function k(t,e){var n=t,o=getAll(e);if("all"===n.dataset.value)callHook(o,function(t){o[t].style.display="flex"});else{var i=getAll(e+'[data-category="'+n.dataset.value+'"]');callHook(o,function(t){o[t].style.display="none"}),callHook(i,function(t){i[t].style.display="flex"})}}function S(){var t=getAll(".t-constructorStickerCard"),e=getAll(".t-constructorStickerCardQuantityWr input"),n=getAll(".t-constructorStickerCard svg .textSvgTwo, .t-constructorStickerCard svg .textSvgOne"),o=getAll(".t-constructorStickerCardHTop"),i=getAll(".t-constructorStickerCard .t-groupIconHolder"),a=getAll(".t-constructorMainTextEditCard input"),r=getAll(".t-constructorMainWrappper .t-listOptions"),l=getAll(".t-padColor"),c=getAll(".t-constructorDefaultPicker li"),s=getAll(".t-constructorStickerCardHolder"),d=getAll(".t-constructorMainWrappper .t-customOptionsWrapper"),u=getSelector(".t-constructorMainStickersSettingsWrapper").children,p=getSelector(".t-constructorMainStickersButtonsWrapper").children;callHook(e,function(t){e[t].value="1"}),callHook(n,function(t){n[t].innerHTML=""}),callHook(o,function(t){o[t].setAttribute("data-check","true")}),callHook(t,function(e){t[e].style.opacity="1"}),callHook(i,function(t){i[t].innerHTML=""}),callHook(a,function(t){a[t].value=""}),callHook(r,function(t){r[t].style.display="none"}),callHook(l,function(t){l[t].setAttribute("fill","#73D9E5")}),callHook(s,function(t){s[t].removeAttribute("data-font")}),callHook(c,function(t){c[t].classList.remove("active"),c[t].style.display="flex"}),callHook(d,function(t){var e=d[t].querySelector(".t-options"),n=d[t].querySelector(".t-styledSelectorBox");d[t].querySelector("select").value=e.dataset.value,n.innerText=e.innerText}),callHook(u,function(t){u[t].classList.contains("active")&&(u[t].classList.remove("active"),u[t].style.display="none")}),callHook(p,function(t){p[t].matches(".t-addCartBtn")&&getSelector(".t-addCartBtn").parentNode.removeChild(getSelector(".t-addCartBtn")),getSelector(".t-constructorNextButton").style.display="block",getSelector(".t-constructorPrevButton").style.display="none"}),getSelector(".t-constructorSuperMainWrapper").style.display="none",getSelector(".t-overlay").style.display="none"}function C(t){function e(t){return window.btoa(unescape(encodeURIComponent(t)))}var n=(new XMLSerializer).serializeToString(t),o=e(n);console.log("data:image/svg+xml;base64,"+o)}!function(t,e,n){"use strict";var o,i,a,r=getSelector(e),l=r.getBoundingClientRect().height,c=Array.from(r.querySelectorAll(n)),s=getAll(t),d=Array.from(s);window.addEventListener("scroll",function(){var t=(r.getBoundingClientRect().height,this.scrollY+l);callHook(s,function(e){s[e].offsetTop-window.innerHeight/2<t&&(i=s[e])}),a=d.indexOf(i),o!==a&&(o=a,callHook(c,function(t){c[t].classList.remove("active")}),c[o].classList.add("active"))},!1)}(".t-mainSectionCtrl","header",".t-navItemTrue a");var b=parseInt(e(".t-moon").bottom);window.addEventListener("scroll",function(){t(".t-contactsAndFeedBack",".t-moon",".t-moonGradient",b,!0),n("header","t-stickyHeader")},!1);var x=getAll(".t-navItem a");callHook(x,function(t){x[t].addEventListener("click",function(t){t.preventDefault(),r(this.hash.split("#")[1])},!1)}),window.addEventListener("scroll",function(t){o(getSelector(".t-astronaut"),.3),o(getSelector(".background"),.1),i(".t-figureContainer")},!1),c(getAll(".t-customOptions"),"div"),DOMTokenList.prototype.addMany=function(t){for(var e=t.split(" "),n=0,o=e.length;n<o;n++)this.add(e[n])},function(t){"use strict";callHook(t,function(e){var n=s("div","t-styledSelectorBox"),o=t[e],i=o.children;o.style.cssText="display: none; visibility: hidden; padding-right: 10px;",o.parentNode.appendChild(n);var a=o.nextSibling;a.innerText=o.children[0].innerText;var r=s("ul","t-listOptions");l(r,a),callHook(i,function(t){var e=s("li","t-options");e.innerText=o.children[t].innerText,e.setAttribute("data-value",o.children[t].value),r.appendChild(e)});var c=r.children;a.addEventListener("click",function(t){t.stopPropagation(),this.classList.contains("active")?(this.classList.remove("active"),fadeOutV(this.nextSibling)):(this.classList.add("active"),fadeInV(this.nextSibling))},!1),callHook(c,function(t){c[t].addEventListener("click",function(t){t.stopPropagation(),a.classList.contains("active")&&(a.classList.remove("active"),a.nextSibling.style.display="none"),a.previousSibling.value=this.dataset.value,a.innerText=this.innerText},!1)}),window.addEventListener("click",function(t){a.classList.contains("active")&&(a.classList.remove("active"),a.nextSibling.style.display="none")})})}(getAll(".t-customOptions"));var T=getAll(".t-inputItem .t-listOptions li"),H=getAll(".t-constructorStickerCardQuantityBtn"),$=getAll(".t-constructorMainColorPicker li"),w=getAll(".t-constructorMainImgPicker li"),L=getAll(".t-constructorStickerCardQuantityWr input"),A=getSelector(".t-constructorFirstTextField input"),N=getSelector(".t-constructorSecondTextField input"),I=getSelector(".t-constructorNextButton"),E=getSelector(".t-constructorPrevButton"),M=getSelector(".t-constructorMainStickersSettingsWrapper"),q=document.getElementById("t-constructorMainStickersPreview"),O=getAll(".t-constructorImgPickerCategory .t-customOptionsWrapper .t-options"),B=getSelector(".t-closeConstructor");I.addEventListener("click",function(){h(this,M,"forward")},!1),E.addEventListener("click",function(){h(this,M)},!1),callHook(T,function(t){T[t].addEventListener("click",function(t){y(this,".t-constructorStickerCardHolder","t-")},!1)}),callHook(H,function(t){H[t].addEventListener("click",function(t){u(this,"t-plus",q)},!1)}),callHook($,function(t){$[t].addEventListener("click",function(){v(this,".t-constructorStickerCard .t-padColor","color",$)},!1)}),callHook(w,function(t){w[t].addEventListener("click",function(){v(this,".t-constructorStickerCard .t-groupIconHolder","",w)},!1)}),callHook(L,function(t){L[t].addEventListener("keyup",function(){})}),A.addEventListener("keyup",function(){g(this,".svgSticker .textSvgOne, .svgStickerOne .textSvgOne"),m(this,".svgSticker .textSvgOne",".svgStickerOne .textSvgOne","top")},!1),N.addEventListener("keyup",function(){g(this,".svgSticker .textSvgTwo, .svgStickerOne .textSvgTwo"),m(this,".svgSticker .textSvgTwo",".svgStickerOne .textSvgTwo")},!1),callHook(L,function(t){L[t].addEventListener("focusout",function(){f(this,".t-constructorStickerCard",q),p(this,".t-constructorStickerCardHTop","qty")})}),callHook(O,function(t){O[t].addEventListener("click",function(t){k(this,".t-constructorMainImgPicker li")},!1)}),B.addEventListener("click",function(){S()},!1),getSelector(".t-makeStickerCard").addEventListener("click",function(t){t.preventDefault(),getSelector(".t-overlay").style.display="block",getSelector(".t-constructorSuperMainWrapper").style.display="block"},!1);var P=getAll(".svgSticker");E.addEventListener("click",function(t){callHook(P,function(t){C(P[t])})},!1)}),$(window).on("load",function(){var t=[".t-jumbotronWrapperSection",".t-benefits",".t-answerAndQuestion",".t-contactsAndFeedBack","footer"];$("html, body").animate({scrollTop:0},10),$("body").removeClass("t-animeOne"),$(".t-astronaut").removeClass("t-blockHidden"),$(".t-figureContainer").removeClass("t-blockHidden"),$(".t-loadingLogo").removeClass("t-blockHidden"),setTimeout(function(){$(".background").removeClass("topBackground")},1900),setTimeout(function(){$(".t-jumboWrapper").removeClass("t-blockHidden"),$(".t-jumboWrapper").addClass("t-showThis")},2e3),setTimeout(function(){holdFunc(getAll(t),"t-showElement"),$(".t-jumboInfoHeader, .t-jumboInfoFooter").removeClass("t-blockHidden")},2100),setTimeout(function(){$(".t-jumboInfoBody").removeClass("t-blockHidden")},2300),setTimeout(function(){$("body").removeClass("t-windowLoading"),$("body").removeClass("fixed")},3100),setTimeout(function(){$("header").removeClass("t-blockHidden")},3200),setTimeout(function(){$(".background").removeClass("animation")},5900);var e=$(".t-openAccordItem"),n=$(".t-accordItemContent");$("body").on("click",".t-openAccordItem",function(){if($("body").hasClass("animate"))return!1;$("body").addClass("animate"),$(this).parent().hasClass("isActive")?($(this).next(n).slideUp(400),$(this).parent().removeClass("isActive")):($(e).not(this).next(n).slideUp(400),$(e).not(this).parent().removeClass("isActive"),$(this).next(n).slideDown(400),$(this).parent().addClass("isActive")),setTimeout(function(){$("body").removeClass("animate")},400)})}),$(function(){$(".t-addToCart").on("click",function(){if($(this).each(function(){var t=$(this).closest(".t-GoodsCardMain").find(".t-goodsNameMain").html(),e=$(this).closest(".t-GoodsCardMain").find(".t-goodsImgMain").attr("src"),n=$(this).closest(".t-GoodsCardMain").find(".t-goodsPriceMain").html(),o='<li class="t-smallCartItem"><div class="t-smallCartItemImg"><img src="'+e+'"></div><div class="t-smallCartItemPriceAndName"><h4 class="t-smallCartItemName">'+t+'</h4><span class="t-smallCartPrice">'+n+"</span></div></li>";$(".t-smallCartBody").append(o),console.log(t,e,n)}),$(".t-smallCartItem").length>0){var t=$(".t-smallCartItem").length;$(".t-smallCartBody").addClass("t-smallCartBodyActive"),$(".t-smallCartTitleInfo").text("Товаров - "+t),$(".t-smallCartTotalPrice").addClass("activeTotal"),$(".t-smallCartBtnInfo").attr("href","/cart.html"),$(".t-smallCartBtnInfo span").text("Перейти в корзину"),$(".t-smallCartOpen").addClass("t-hasGoodsInCart")}else $(".t-smallCartOpen").removeClass("t-hasGoodsInCart");var e=0;$(".t-smallCartPrice").each(function(){var t=parseInt($(this).text());e+=t}),$(".t-smallCartTotalPrice").text(addSpace(e+" ₽"))})});
//# sourceMappingURL=main.min.js.map
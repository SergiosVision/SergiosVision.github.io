function addSpace(t){t+="",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var e=/(\d+)(\d{3})/;e.test(x1);)x1=x1.replace(e,"$1 $2");return x1+x2}function fadeInV(t,e){t.style.opacity=0,t.style.display=e||"block",function e(){var n=parseFloat(t.style.opacity);(n+=.1)>1||(t.style.opacity=n,requestAnimationFrame(e))}()}function fadeOutV(t){t.style.opacity=1,function e(){(t.style.opacity-=.1)<0?t.style.display="none":requestAnimationFrame(e)}()}function getSelector(t){return document.querySelector(t)}function getAll(t){return document.querySelectorAll(t)}function callHook(t,e){for(var n=0;n<t.length;n++)e(n)}function isM(t,e){return t.matches(e)}Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},n=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},o=Math.pow(2,53)-1,i=function(t){var e=n(t);return Math.min(Math.max(e,0),o)};return function(t){var n=this,o=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,r=arguments.length>1?arguments[1]:void 0;if(void 0!==r){if(!e(r))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var s,l=i(o.length),c=e(n)?Object(new n(l)):new Array(l),d=0;d<l;)s=o[d],c[d]=r?void 0===a?r(s,d):r.call(a,s,d):s,d+=1;return c.length=l,c}}()),$(document).ready(function(){function t(t,e,n,o,i){var a=getSelector(t),r=getSelector(e),n=getSelector(n),s=a.offsetTop,l=a.getBoundingClientRect().height,c=s+l,d=window.pageYOffset||document.documentElement.scrollTop,u=(document.body.scrollHeight,window.innerHeight);c<=d+u?(r.style.bottom=o+(d+u-c)/.9+"px",n.style.opacity="1"):n.style.opacity="0"}function e(t){return window.getComputedStyle(getSelector(t),null)}function n(t){return window.getComputedStyle(t,null)}function o(t,e){(window.pageYOffset||document.documentElement.scrollTop)>300?getSelector(t).classList.add(e):getSelector(t).classList.remove(e)}function i(t,e){var n=e.parentNode,o=e.nextSibling;return o?n.insertBefore(t,o):n.appendChild(t)}function a(t,e){callHook(t,function(n){var o=document.createElement(e),i=t[n].getAttribute("class");o.classList.add(i+"Wrapper"),t[n].parentNode.insertBefore(o,t[n]),o.appendChild(t[n])})}function r(t,e){var n=document.createElement(t);return void 0===e?n:(n.classList.addMany(e),n)}function s(t){var e=document.createElement("span");return t.innerText.trim().split("").map(function(t){var n=e.cloneNode();return n.insertAdjacentHTML("afterbegin"," "===t?"&nbsp;":t),n})}function l(t){var e=document.createElement("div"),n=s(t);callHook(n,function(t){e.appendChild(n[t])}),t.innerHTML="",t.appendChild(e)}function c(t,e,o){l(t);var i=0,a="center "+e+"px",r=180/Math.PI,s=parseInt(n(t.querySelector("span")).lineHeight,10);-1===o&&(a="center "+(-e+s)+"px");var c=t.querySelectorAll("span");callHook(c,function(t){var o=c[t];i+=parseInt(n(o).fontSize,10)/2.1/(e-s)*r,o.setAttribute("rot",i),i+=parseInt(n(o).fontSize,10)/2.1/(e-s)*r}),callHook(c,function(t){var e=c[t],r=-i*o/2+e.getAttribute("rot")*o,s="rotate("+r+"deg)";-1===o?e.style.bottom="0":e.style.top="0",e.classList.add("letter"+t),e.style.left="50%",e.style.marginLeft=-parseInt(n(e).fontSize,10)/2.1+"px",e.style.position="absolute",e.style.transform=s,e.style.transformOrigin=a,e.style.webkitTransform=s,e.style.webkitTransformOrigin=a})}function d(t,e,n){var o=t,i=o.parentNode.parentNode.querySelector("input");if(o.classList.contains(e))var a=parseInt(i.value)+1;else if(i.value>0)var a=parseInt(i.value)-1;else a=0;i.value=a,p(o,i,n)}function u(t,e,n){var o=t,i="qty"===n?o.parentNode.parentNode.querySelector("input"):o,a="qty"===n?o.parentNode.parentNode.parentNode.parentNode.querySelector(e):o.parentNode.parentNode.parentNode.querySelector(e);0===parseInt(i.value)||""===i.value?a.setAttribute("data-check","false"):a.setAttribute("data-check","true")}function p(t,e,n){var o=t.parentNode.parentNode.parentNode.parentNode.querySelector(n);parseFloat(e.value)===parseFloat(0)?o.style.opacity="0.5":o.style.opacity="1"}function f(t,e){var n=t,o=n.parentNode.parentNode.parentNode.querySelector(e),i=new RegExp("^\\d*\\.?\\d+$");n.value.match(i)?""===n.value||parseInt(n.value)===parseInt(0)?(o.style.opacity=".5",n.value=0):o.style.opacity="1":(o.style.opacity=".5",n.value=0)}function v(t,e,n,o){function i(t,e,n){callHook(t,function(n){t[n].classList.remove(e)}),n.classList.contains(e)||n.classList.add(e)}var a=t,r="color"===n?a.dataset.color:a.dataset.img,s=getAll(e);callHook(s,function(t){"color"===n?(i(o,"active",a),s[t].style.backgroundColor!==r&&(s[t].style.backgroundColor=r)):(i(o,"active",a),s[t].style.backgroundImage!==r&&(s[t].style.backgroundImage='url("'+r+'")'))})}function m(t,e,n,o){function i(t,e,n){t.value.length>0?e():n()}var a=t,r=getAll(e);a.value.length<=20?callHook(r,function(t){0===t?"top"===o?i(a,function(){getSelector(n).innerText=a.value,c(getSelector(n),127,1)},function(){y(a,r[t])}):i(a,function(){getSelector(n).innerText=a.value,c(getSelector(n),127,-1)},function(){y(a,r[t])}):r[t].innerText=a.value}):a.value=a.value.substr(0,20)}function y(t,e){t.value.length<=0&&(e.innerText="")}function g(t,e){var n=t,o=getAll(e);callHook(o,function(t){o[t].setAttribute("data-font",n.dataset.value)})}function h(t,e,n){function o(t,e){t.classList.remove(e),t.style.display="none",console.log(t)}function a(t,e){t.classList.add(e),t.style.display="block"}function s(t,e){t.classList.contains(e)?(o(t,e),a(t.nextElementSibling,e),c.style.display="none",i(u,c)):(o(t.nextElementSibling,e),a(t,e),c.previousElementSibling.style.display="block")}function l(t,e){t.classList.contains(e)?(o(t,e),c.style.display="none"):(o(t.nextElementSibling,e),c.nextElementSibling.nextElementSibling.parentNode.removeChild(c.nextElementSibling.nextElementSibling),a(t,e),c.nextElementSibling.style.display="block")}var c=t,d=e.children[0],u=r("button","t-addCartBtn t-btn");u.setAttribute("disabled","true"),u.appendChild(r("span")),u.querySelector("span").innerText="Добавить в корзину","forward"===n?s(d,"active"):l(d,"active")}!function(t,e,n){"use strict";var o,i,a,r=getSelector(e),s=r.getBoundingClientRect().height,l=Array.from(r.querySelectorAll(n)),c=getAll(t),d=Array.from(c);window.addEventListener("scroll",function(){var t=(r.getBoundingClientRect().height,this.scrollY+s);callHook(c,function(e){c[e].offsetTop-window.innerHeight/2<t&&(i=c[e])}),a=d.indexOf(i),o!==a&&(o=a,callHook(l,function(t){l[t].classList.remove("active")}),l[o].classList.add("active"))},!1)}(".t-mainSectionCtrl","header",".t-navItemTrue a");var C=parseInt(e(".t-moon").bottom);window.addEventListener("scroll",function(){t(".t-contactsAndFeedBack",".t-moon",".t-moonGradient",C,!0),o("header","t-stickyHeader")},!1),a(getAll(".t-customOptions"),"div"),DOMTokenList.prototype.addMany=function(t){for(var e=t.split(" "),n=0,o=e.length;n<o;n++)this.add(e[n])},function(t){callHook(t,function(e){var n=r("div","t-styledSelectorBox"),o=t[e],a=o.children;o.style.cssText="display: none; visibility: hidden; padding-right: 10px;",o.parentNode.appendChild(n);var s=o.nextSibling;s.innerText=o.children[0].innerText;var l=r("ul","t-listOptions");i(l,s),callHook(a,function(t){var e=r("li","t-options");e.innerText=o.children[t].innerText,e.setAttribute("data-value",o.children[t].value),l.appendChild(e)});var c=l.children;s.addEventListener("click",function(t){t.stopPropagation(),this.classList.contains("active")?(this.classList.remove("active"),fadeOutV(this.nextSibling)):(this.classList.add("active"),fadeInV(this.nextSibling))},!1),callHook(c,function(t){c[t].addEventListener("click",function(t){t.stopPropagation(),s.classList.contains("active")&&(s.classList.remove("active"),s.nextSibling.style.display="none"),s.previousSibling.value=this.dataset.value,s.innerText=this.innerText},!1)}),window.addEventListener("click",function(t){s.classList.contains("active")&&(s.classList.remove("active"),s.nextSibling.style.display="none")})})}(getAll(".t-customOptions"));var k=getAll(".t-inputItem .t-listOptions li"),b=getAll(".t-constructorStickerCardQuantityBtn"),S=getAll(".t-constructorMainColorPicker li"),x=getAll(".t-constructorMainImgPicker li"),T=getAll(".t-constructorStickerCardQuantityWr input"),$=getSelector(".t-constructorFirstTextField input"),L=getSelector(".t-constructorSecondTextField input"),w=(getAll(".t-constructorStickerCardQuantityWr"),getSelector(".t-constructorNextButton")),A=getSelector(".t-constructorPrevButton"),H=getSelector(".t-constructorMainStickersSettingsWrapper");w.addEventListener("click",function(){h(this,H,"forward")},!1),A.addEventListener("click",function(){h(this,H)},!1),callHook(k,function(t){k[t].addEventListener("click",function(t){g(this,".t-constructorStickerCardHolder","t-")},!1)}),callHook(b,function(t){b[t].addEventListener("click",function(t){d(this,"t-plus",".t-constructorStickerCard"),u(this,".t-constructorStickerCardHTop","qty")},!1)}),callHook(S,function(t){S[t].addEventListener("click",function(){v(this,".t-constructorStickerCard","color",S)},!1)}),callHook(x,function(t){x[t].addEventListener("click",function(){v(this,".t-constructorStickerCard .t-constructorStickerImg div","",x)},!1)}),callHook(T,function(t){T[t].addEventListener("keyup",function(){u(this,".t-constructorStickerCardHTop")})}),$.addEventListener("keyup",function(){m(this,".t-constructorStickerTextOne span, .t-constructorStickerTextOne div",".t-constructorStickerTextOne div","top")},!1),L.addEventListener("keyup",function(){y(this,".t-constructorStickerTextTwo span, .t-constructorStickerTextTwo div"),m(this,".t-constructorStickerTextTwo span, .t-constructorStickerTextTwo div",".t-constructorStickerTextTwo div")},!1),callHook(T,function(t){T[t].addEventListener("focusout",function(){f(this,".t-constructorStickerCard"),u(this,".t-constructorStickerCardHTop")})})}),$(window).on("load",function(){$("html, body").animate({scrollTop:0},10),$("body").removeClass("t-animeOne"),$(".t-astronaut").removeClass("t-blockHidden"),$(".t-figureContainer").removeClass("t-blockHidden"),$(".t-loadingLogo").removeClass("t-blockHidden"),setTimeout(function(){$(".background").removeClass("topBackground")},1900),setTimeout(function(){$(".t-jumboWrapper").removeClass("t-blockHidden"),$(".t-jumboWrapper").addClass("t-showThis")},2e3),setTimeout(function(){$(".t-jumboInfoHeader, .t-jumboInfoFooter").removeClass("t-blockHidden")},2100),setTimeout(function(){$(".t-jumboInfoBody").removeClass("t-blockHidden")},2300),setTimeout(function(){$(".t-allCategories").removeClass("t-blockHidden"),$(".t-allCategories").addClass("t-showThis")},3e3),setTimeout(function(){$(".t-brands").removeClass("t-blockHidden"),$(".t-brands").addClass("t-showThis"),$("body").removeClass("t-windowLoading"),$("body").removeClass("fixed")},3100),setTimeout(function(){$("header").removeClass("t-blockHidden")},3200),setTimeout(function(){$(".background").removeClass("animation")},5900);var t=$(".t-openAccordItem"),e=$(".t-accordItemContent");$("body").on("click",".t-openAccordItem",function(){if($("body").hasClass("animate"))return!1;$("body").addClass("animate"),$(this).parent().hasClass("isActive")?($(this).next(e).slideUp(400),$(this).parent().removeClass("isActive")):($(t).not(this).next(e).slideUp(400),$(t).not(this).parent().removeClass("isActive"),$(this).next(e).slideDown(400),$(this).parent().addClass("isActive")),setTimeout(function(){$("body").removeClass("animate")},400)})}),$(function(){$(".t-addToCart").on("click",function(){if($(this).each(function(){var t=$(this).closest(".t-GoodsCardMain").find(".t-goodsNameMain").html(),e=$(this).closest(".t-GoodsCardMain").find(".t-goodsImgMain").attr("src"),n=$(this).closest(".t-GoodsCardMain").find(".t-goodsPriceMain").html(),o='<li class="t-smallCartItem"><div class="t-smallCartItemImg"><img src="'+e+'"></div><div class="t-smallCartItemPriceAndName"><h4 class="t-smallCartItemName">'+t+'</h4><span class="t-smallCartPrice">'+n+"</span></div></li>";$(".t-smallCartBody").append(o),console.log(t,e,n)}),$(".t-smallCartItem").length>0){var t=$(".t-smallCartItem").length;$(".t-smallCartBody").addClass("t-smallCartBodyActive"),$(".t-smallCartTitleInfo").text("Товаров - "+t),$(".t-smallCartTotalPrice").addClass("activeTotal"),$(".t-smallCartBtnInfo").attr("href","/cart.html"),$(".t-smallCartBtnInfo span").text("Перейти в корзину"),$(".t-smallCartOpen").addClass("t-hasGoodsInCart")}else $(".t-smallCartOpen").removeClass("t-hasGoodsInCart");var e=0;$(".t-smallCartPrice").each(function(){var t=parseInt($(this).text());e+=t}),$(".t-smallCartTotalPrice").text(addSpace(e+" ₽"))})});
//# sourceMappingURL=main.min.js.map
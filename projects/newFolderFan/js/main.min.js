function addSpace(t){t+="",x=t.split("."),x1=x[0],x2=x.length>1?"."+x[1]:"";for(var e=/(\d+)(\d{3})/;e.test(x1);)x1=x1.replace(e,"$1 $2");return x1+x2}function getSelector(t){return document.querySelector(t)}function getAll(t){return document.querySelectorAll(t)}function callHook(t,e){for(var o=0;o<t.length;o++)e(o)}Array.from||(Array.from=function(){var t=Object.prototype.toString,e=function(e){return"function"==typeof e||"[object Function]"===t.call(e)},o=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e},n=Math.pow(2,53)-1,r=function(t){var e=o(t);return Math.min(Math.max(e,0),n)};return function(t){var o=this,n=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var a,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!e(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(a=arguments[2])}for(var c,l=r(n.length),s=e(o)?Object(new o(l)):new Array(l),d=0;d<l;)c=n[d],s[d]=i?void 0===a?i(c,d):i.call(a,c,d):c,d+=1;return s.length=l,s}}()),$(document).ready(function(){function t(t,e,o,n,r){var a=getSelector(t),i=getSelector(e),o=getSelector(o),c=a.offsetTop,l=a.getBoundingClientRect().height,s=c+l,d=window.pageYOffset||document.documentElement.scrollTop,u=(document.body.scrollHeight,window.innerHeight);s<=d+u?(i.style.bottom=n+(d+u-s)/.9+"px",o.style.opacity="1"):o.style.opacity="0"}function e(t){return window.getComputedStyle(getSelector(t),null)}function o(t){return window.getComputedStyle(t,null)}function n(t,e){(window.pageYOffset||document.documentElement.scrollTop)>300?getSelector(t).classList.add(e):getSelector(t).classList.remove(e)}function r(t){var e=document.createElement("span");return t.innerText.trim().split("").map(function(t){var o=e.cloneNode();return o.insertAdjacentHTML("afterbegin"," "===t?"&nbsp;":t),o})}function a(t){var e=document.createElement("div"),o=r(t);callHook(o,function(t){e.appendChild(o[t])}),t.innerHTML="",t.appendChild(e)}function i(t,e,n){a(t);var r=0,i="center "+e+"px",c=180/Math.PI,l=parseInt(o(t.querySelector("span")).lineHeight,10);-1===n&&(i="center "+(-e+l)+"px");var s=t.querySelectorAll("span");callHook(s,function(t){var n=s[t];r+=parseInt(o(n).fontSize,10)/2.1/(e-l)*c,n.setAttribute("rot",r),r+=parseInt(o(n).fontSize,10)/2.1/(e-l)*c}),callHook(s,function(t){var e=s[t],a=-r*n/2+e.getAttribute("rot")*n,c="rotate("+a+"deg)";-1===n?e.style.bottom="0":e.style.top="0",e.classList.add("letter"+t),e.style.left="50%",e.style.marginLeft=-parseInt(o(e).fontSize,10)/2.1+"px",e.style.position="absolute",e.style.transform=c,e.style.transformOrigin=i,e.style.webkitTransform=c,e.style.webkitTransformOrigin=i})}function c(t,e,o,n){var r=t,a=r.parentNode.parentNode.querySelector("input"),i=r.parentNode.parentNode.parentNode.parentNode.querySelector(n);if(r.classList.contains(e))var c=parseInt(a.value)+1,l=parseInt(i.innerText)+1;else if(a.value>0)var c=parseInt(a.value)-1,l=parseInt(i.innerText)-1;else c=0,l=0;a.value=c,i.innerText=l,s(r,a,o)}function l(t,e,o){var n=t,r="qty"===o?n.parentNode.parentNode.querySelector("input"):n,a="qty"===o?n.parentNode.parentNode.parentNode.parentNode.querySelector(e):n.parentNode.parentNode.parentNode.querySelector(e);0===parseInt(r.value)||""===r.value?a.setAttribute("data-check","false"):a.setAttribute("data-check","true")}function s(t,e,o){var n=t.parentNode.parentNode.parentNode.parentNode.querySelector(o);parseFloat(e.value)===parseFloat(0)?n.style.opacity="0.5":n.style.opacity="1"}function d(t,e){var o=t,n=o.parentNode.parentNode.parentNode.querySelector(e),r=new RegExp("^\\d*\\.?\\d+$");o.value.match(r)?""===o.value||parseInt(o.value)===parseInt(0)?(n.style.opacity=".5",o.value=0):n.style.opacity="1":(n.style.opacity=".5",o.value=0)}function u(t,e){var o=t,n=new RegExp("^\\d*\\.?\\d+$"),r=o.parentNode.parentNode.parentNode.querySelector(e);o.value.match(n)?""===o.value?r.innerText="0":r.innerText=o.value:r.innerText="0"}function m(t,e,o,n){function r(t,e,o){callHook(t,function(o){t[o].classList.remove(e)}),o.classList.contains(e)||o.classList.add(e)}var a=t,i="color"===o?a.dataset.color:a.dataset.img,c=getAll(e);callHook(c,function(t){"color"===o?(r(n,"active",a),c[t].style.backgroundColor!==i&&(c[t].style.backgroundColor=i)):(r(n,"active",a),c[t].style.backgroundImage!==i&&(c[t].style.backgroundImage='url("'+i+'")'))})}function p(t,e,o,n){function r(t,e,o){t.value.length>0?e():o()}var a=t,c=getAll(e);if(a.value.length<=20)callHook(c,function(t){0===t?"top"===n?r(a,function(){getSelector(o).innerText=a.value,i(getSelector(o),127,1)},function(){f(a,c[t])}):r(a,function(){getSelector(o).innerText=a.value,i(getSelector(o),127,-1)},function(){f(a,c[t])}):c[t].innerText=a.value});else{var l=a.value.slice(0,20);a.value=l}}function f(t,e){t.value.length<=0&&(e.innerText="")}!function(t,e,o){"use strict";var n,r,a,i=getSelector(e),c=i.getBoundingClientRect().height,l=Array.from(i.querySelectorAll(o)),s=getAll(t),d=Array.from(s);window.addEventListener("scroll",function(){var t=(i.getBoundingClientRect().height,this.scrollY+c);callHook(s,function(e){s[e].offsetTop-window.innerHeight/2<t&&(r=s[e])}),a=d.indexOf(r),n!==a&&(n=a,callHook(l,function(t){l[t].classList.remove("active")}),l[n].classList.add("active"))},!1)}(".t-mainSectionCtrl","header",".t-navItemTrue a");var v=parseInt(e(".t-moon").bottom);window.addEventListener("scroll",function(){t(".t-contactsAndFeedBack",".t-moon",".t-moonGradient",v,!0),n("header","t-stickyHeader")},!1);var g=getAll(".t-constructorStickerCardQuantityBtn");callHook(g,function(t){g[t].addEventListener("click",function(t){c(this,"t-plus",".t-constructorStickerCard",".t-topQuantity",".t-constructorStickerCardHTop"),l(this,".t-constructorStickerCardHTop","qty")},!1)});var h=getAll(".t-constructorMainColorPicker li");callHook(h,function(t){h[t].addEventListener("click",function(){m(this,".t-constructorStickerCard","color",h)},!1)});var y=getAll(".t-constructorMainImgPicker li");callHook(y,function(t){y[t].addEventListener("click",function(){m(this,".t-constructorStickerCard .t-constructorStickerImg div","",y)},!1)});var C=getAll(".t-constructorStickerCardQuantityWr input");callHook(C,function(t){C[t].addEventListener("keyup",function(){u(this,".t-topQuantity"),l(this,".t-constructorStickerCardHTop")})}),getSelector(".t-constructorFirstTextField input").addEventListener("keyup",function(){p(this,".t-constructorStickerTextOne span, .t-constructorStickerTextOne div",".t-constructorStickerTextOne div","top")},!1),getSelector(".t-constructorSecondTextField input").addEventListener("keyup",function(){f(this,".t-constructorStickerTextTwo span, .t-constructorStickerTextTwo div"),p(this,".t-constructorStickerTextTwo span, .t-constructorStickerTextTwo div",".t-constructorStickerTextTwo div")},!1),callHook(C,function(t){C[t].addEventListener("focusout",function(){u(this,".t-topQuantity"),d(this,".t-constructorStickerCard"),l(this,".t-constructorStickerCardHTop")})})}),$(window).on("load",function(){$("html, body").animate({scrollTop:0},10),$("body").removeClass("t-animeOne"),$(".t-astronaut").removeClass("t-blockHidden"),$(".t-figureContainer").removeClass("t-blockHidden"),$(".t-loadingLogo").removeClass("t-blockHidden"),setTimeout(function(){$(".background").removeClass("topBackground")},1900),setTimeout(function(){$(".t-jumboWrapper").removeClass("t-blockHidden"),$(".t-jumboWrapper").addClass("t-showThis")},2e3),setTimeout(function(){$(".t-jumboInfoHeader, .t-jumboInfoFooter").removeClass("t-blockHidden")},2100),setTimeout(function(){$(".t-jumboInfoBody").removeClass("t-blockHidden")},2300),setTimeout(function(){$(".t-allCategories").removeClass("t-blockHidden"),$(".t-allCategories").addClass("t-showThis")},3e3),setTimeout(function(){$(".t-brands").removeClass("t-blockHidden"),$(".t-brands").addClass("t-showThis"),$("body").removeClass("t-windowLoading"),$("body").removeClass("fixed")},3100),setTimeout(function(){$("header").removeClass("t-blockHidden")},3200),setTimeout(function(){$(".background").removeClass("animation")},5900);var t=$(".t-openAccordItem"),e=$(".t-accordItemContent");$("body").on("click",".t-openAccordItem",function(){if($("body").hasClass("animate"))return!1;$("body").addClass("animate"),$(this).parent().hasClass("isActive")?($(this).next(e).slideUp(400),$(this).parent().removeClass("isActive")):($(t).not(this).next(e).slideUp(400),$(t).not(this).parent().removeClass("isActive"),$(this).next(e).slideDown(400),$(this).parent().addClass("isActive")),setTimeout(function(){$("body").removeClass("animate")},400)})}),$(function(){$(".t-addToCart").on("click",function(){if($(this).each(function(){var t=$(this).closest(".t-GoodsCardMain").find(".t-goodsNameMain").html(),e=$(this).closest(".t-GoodsCardMain").find(".t-goodsImgMain").attr("src"),o=$(this).closest(".t-GoodsCardMain").find(".t-goodsPriceMain").html(),n='<li class="t-smallCartItem"><div class="t-smallCartItemImg"><img src="'+e+'"></div><div class="t-smallCartItemPriceAndName"><h4 class="t-smallCartItemName">'+t+'</h4><span class="t-smallCartPrice">'+o+"</span></div></li>";$(".t-smallCartBody").append(n),console.log(t,e,o)}),$(".t-smallCartItem").length>0){var t=$(".t-smallCartItem").length;$(".t-smallCartBody").addClass("t-smallCartBodyActive"),$(".t-smallCartTitleInfo").text("Товаров - "+t),$(".t-smallCartTotalPrice").addClass("activeTotal"),$(".t-smallCartBtnInfo").attr("href","/cart.html"),$(".t-smallCartBtnInfo span").text("Перейти в корзину"),$(".t-smallCartOpen").addClass("t-hasGoodsInCart")}else $(".t-smallCartOpen").removeClass("t-hasGoodsInCart");var e=0;$(".t-smallCartPrice").each(function(){var t=parseInt($(this).text());e+=t}),$(".t-smallCartTotalPrice").text(addSpace(e+" ₽"))})});
//# sourceMappingURL=main.min.js.map